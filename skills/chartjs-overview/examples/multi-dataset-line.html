<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chart.js - Multi-Dataset Line Chart Examples</title>
  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .chart-container {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    h1 {
      color: #333;
      margin-bottom: 30px;
    }
    .description {
      color: #666;
      margin-bottom: 20px;
      padding: 15px;
      background: #e8f4f8;
      border-left: 4px solid #2196F3;
      border-radius: 4px;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
    .controls {
      margin-top: 15px;
      padding: 10px;
      background: #f9f9f9;
      border-radius: 4px;
    }
    button {
      padding: 8px 16px;
      margin: 5px;
      background: #2196F3;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      background: #1976D2;
    }
    button:active {
      background: #0D47A1;
    }
  </style>
</head>
<body>
  <h1>Chart.js Multi-Dataset Line Chart Examples</h1>

  <div class="description">
    <strong>About this example:</strong> Demonstrates line charts with multiple datasets,
    filled areas, interactive features, and real-time updates. Click the legend to toggle
    dataset visibility.
  </div>

  <!-- Example 1: Year-over-Year Comparison -->
  <div class="chart-container">
    <h2>Year-over-Year Comparison</h2>
    <p>Comparing performance across multiple years with different line styles.</p>
    <div style="width: 100%; max-width: 900px;">
      <canvas id="yoyChart"></canvas>
    </div>
  </div>

  <!-- Example 2: Area Chart (Filled Line) -->
  <div class="chart-container">
    <h2>Area Chart with Fill</h2>
    <p>Line chart with filled area using <code>fill: true</code> and transparency.</p>
    <div style="width: 100%; max-width: 900px;">
      <canvas id="areaChart"></canvas>
    </div>
  </div>

  <!-- Example 3: Real-Time Data Updates -->
  <div class="chart-container">
    <h2>Real-Time Data Stream</h2>
    <p>Chart automatically updates with new data points every second.</p>
    <div style="width: 100%; max-width: 900px;">
      <canvas id="realtimeChart"></canvas>
    </div>
    <div class="controls">
      <button id="startBtn">Start Updates</button>
      <button id="stopBtn">Stop Updates</button>
      <button id="resetBtn">Reset Data</button>
    </div>
  </div>

  <!-- Load Chart.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    // Example 1: Year-over-Year Comparison
    new Chart(document.getElementById('yoyChart'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [
          {
            label: '2023',
            data: [65, 59, 80, 81, 56, 55, 70, 75, 68, 72, 78, 85],
            borderColor: 'rgb(255, 99, 132)',
            backgroundColor: 'rgba(255, 99, 132, 0.1)',
            tension: 0.4
          },
          {
            label: '2024',
            data: [28, 48, 40, 19, 86, 27, 90, 95, 88, 92, 98, 105],
            borderColor: 'rgb(54, 162, 235)',
            backgroundColor: 'rgba(54, 162, 235, 0.1)',
            tension: 0.4
          },
          {
            label: '2025 (Projected)',
            data: [null, null, null, null, null, null, null, null, null, null, null, 110],
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.1)',
            borderDash: [5, 5],  // Dashed line for projection
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          title: {
            display: true,
            text: 'Sales Trends - Year over Year'
          },
          legend: {
            position: 'top',
          },
          tooltip: {
            mode: 'index',
            intersect: false,
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return '$' + value + 'K';
              }
            }
          }
        },
        interaction: {
          mode: 'nearest',
          axis: 'x',
          intersect: false
        }
      }
    });

    // Example 2: Area Chart with Fill
    new Chart(document.getElementById('areaChart'), {
      type: 'line',
      data: {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7', 'Week 8'],
        datasets: [
          {
            label: 'Website Traffic',
            data: [12000, 19000, 15000, 25000, 22000, 30000, 28000, 35000],
            fill: true,
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            borderColor: 'rgb(75, 192, 192)',
            borderWidth: 2,
            tension: 0.4,
            pointRadius: 5,
            pointHoverRadius: 7
          },
          {
            label: 'Conversions',
            data: [1200, 1900, 1500, 2500, 2200, 3000, 2800, 3500],
            fill: true,
            backgroundColor: 'rgba(255, 159, 64, 0.2)',
            borderColor: 'rgb(255, 159, 64)',
            borderWidth: 2,
            tension: 0.4,
            pointRadius: 5,
            pointHoverRadius: 7
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          title: {
            display: true,
            text: 'Traffic vs Conversions - Last 8 Weeks'
          },
          legend: {
            position: 'bottom'
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                let label = context.dataset.label || '';
                if (label) {
                  label += ': ';
                }
                label += context.parsed.y.toLocaleString();
                return label;
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return value.toLocaleString();
              }
            }
          }
        }
      }
    });

    // Example 3: Real-Time Data Updates
    const realtimeChart = new Chart(document.getElementById('realtimeChart'), {
      type: 'line',
      data: {
        labels: [],
        datasets: [
          {
            label: 'CPU Usage (%)',
            data: [],
            borderColor: 'rgb(255, 99, 132)',
            backgroundColor: 'rgba(255, 99, 132, 0.1)',
            borderWidth: 2,
            tension: 0.4,
            fill: true
          },
          {
            label: 'Memory Usage (%)',
            data: [],
            borderColor: 'rgb(54, 162, 235)',
            backgroundColor: 'rgba(54, 162, 235, 0.1)',
            borderWidth: 2,
            tension: 0.4,
            fill: true
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          title: {
            display: true,
            text: 'System Resources Monitor'
          },
          legend: {
            position: 'top'
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            ticks: {
              callback: function(value) {
                return value + '%';
              }
            }
          },
          x: {
            ticks: {
              maxTicksLimit: 10
            }
          }
        },
        animation: {
          duration: 500
        }
      }
    });

    // Real-time update logic
    let updateInterval = null;

    function addDataPoint() {
      const now = new Date();
      const timeLabel = now.toLocaleTimeString();

      // Add new data point
      realtimeChart.data.labels.push(timeLabel);
      realtimeChart.data.datasets[0].data.push(Math.floor(Math.random() * 60) + 20); // CPU: 20-80%
      realtimeChart.data.datasets[1].data.push(Math.floor(Math.random() * 40) + 30); // Memory: 30-70%

      // Keep only last 20 points
      if (realtimeChart.data.labels.length > 20) {
        realtimeChart.data.labels.shift();
        realtimeChart.data.datasets[0].data.shift();
        realtimeChart.data.datasets[1].data.shift();
      }

      realtimeChart.update('none'); // Update without animation for smooth real-time effect
    }

    document.getElementById('startBtn').addEventListener('click', () => {
      if (!updateInterval) {
        updateInterval = setInterval(addDataPoint, 1000);
        document.getElementById('startBtn').disabled = true;
        document.getElementById('stopBtn').disabled = false;
      }
    });

    document.getElementById('stopBtn').addEventListener('click', () => {
      if (updateInterval) {
        clearInterval(updateInterval);
        updateInterval = null;
        document.getElementById('startBtn').disabled = false;
        document.getElementById('stopBtn').disabled = true;
      }
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      // Stop updates if running
      if (updateInterval) {
        clearInterval(updateInterval);
        updateInterval = null;
        document.getElementById('startBtn').disabled = false;
        document.getElementById('stopBtn').disabled = true;
      }

      // Clear data
      realtimeChart.data.labels = [];
      realtimeChart.data.datasets[0].data = [];
      realtimeChart.data.datasets[1].data = [];
      realtimeChart.update('none');
    });

    // Initial state
    document.getElementById('stopBtn').disabled = true;
  </script>
</body>
</html>
